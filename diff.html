<!--
* Copyright (c) 2015, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
*
* WSO2 Inc. licenses this file to you under the Apache License,
* Version 2.0 (the "License"); you may not use this file except
* in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied. See the License for the
* specific language governing permissions and limitations
* under the License.
-->

<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Governance Center</title>

    <link rel="icon" href="favicon.png" type="image/x-icon" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    
    <link href="css/fontwso2.css" rel="stylesheet">
    <link href="css/fontwso2-extend.css" rel="stylesheet">
    
    <link href="https://codemirror.net/lib/codemirror.css" rel="stylesheet">
    <link rel="stylesheet" href="https://codemirror.net/theme/ambiance.css">
    <link rel=stylesheet href="https://codemirror.net/addon/merge/merge.css">
    
    <link href="css/diff.css" rel="stylesheet">
    
    <script src="https://codemirror.net/lib/codemirror.js"></script>
    
    <script src="https://codemirror.net/mode/xml/xml.js"></script>
    <script src="https://codemirror.net/mode/css/css.js"></script>
    <script src="https://codemirror.net/mode/javascript/javascript.js"></script>
    <script src="https://codemirror.net/mode/htmlmixed/htmlmixed.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js"></script>
    <script src="https://codemirror.net/addon/merge/merge.js"></script>

	<!--[if lt IE 9]>
	<script src="js/html5shiv.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
</head>

<body>

    <div class="container-fluid">

        <div class="diff-view">
            <div class="row no-gutter">
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                    <div class="app-bar">
                        <h1>WeatherGMX.wsdl</h1>
                    </div>
                    <div class="view-panel list">
                        <ul>
                            <li class="selected"><a href="#">Change 01</a></li>
                            <li><a href="#">Change 02</a></li>
                            <li><a href="#">Change 03</a></li>
                            <li><a href="#">Change 04</a></li>
                            <li><a href="#">Change 05</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12">
                    <div class="app-bar">
                        <a href="#" class="active">
                            <span class="fw-stack">
                                <i class="fw fw-ring fw-stack-2x"></i>
                                <i class="fw fw-circle fw-stack-1x"></i>
                            </span>
                            Code View
                        </a><a href="#">
                            <span class="fw-stack">
                                <i class="fw fw-ring fw-stack-2x"></i>
                                <i class="fw fw-circle fw-stack-1x"></i>
                            </span>
                            View
                        </a>
                    </div>
                    <div class="view-panel">

                        <div id="diffView" class="code-container"></div>

                        <script>
                            var value, orig1, orig2, dv, panes = 2, highlight = true, connect = null, collapse = false;
                            function initUI() {
                              if (value == null) return;
                              var target = document.getElementById("diffView");
                              target.innerHTML = "";
                              dv = CodeMirror.MergeView(target, {
                                value: value,
                                origLeft: panes == 3 ? orig1 : null,
                                orig: orig2,
                                lineNumbers: true,
                                mode: "text/html",
                                highlightDifferences: highlight,
                                connect: connect,
                                collapseIdentical: collapse,
                                theme: "ambiance"
                              });
                            }

                            function toggleDifferences() {
                              dv.setShowDifferences(highlight = !highlight);
                            }

                            window.onload = function() {
                              value = document.documentElement.innerHTML;
                              orig1 = "<!doctype html>\n\n" + value.replace(/\.\.\//g, "codemirror/").replace("yellow", "orange");
                              orig2 = value.replace(/\u003cscript/g, "\u003cscript type=text/javascript ")
                                .replace("white", "purple;\n      font: comic sans;\n      text-decoration: underline;\n      height: 15em");
                              initUI();
                            };

                            function mergeViewHeight(mergeView) {
                              function editorHeight(editor) {
                                if (!editor) return 0;
                                return editor.getScrollInfo().height;
                              }
                              return Math.max(editorHeight(mergeView.leftOriginal()),
                                              editorHeight(mergeView.editor()),
                                              editorHeight(mergeView.rightOriginal()));
                            }

                            function resize(mergeView) {
                              var height = mergeViewHeight(mergeView);
                              for(;;) {
                                if (mergeView.leftOriginal())
                                  mergeView.leftOriginal().setSize(null, height);
                                mergeView.editor().setSize(null, height);
                                if (mergeView.rightOriginal())
                                  mergeView.rightOriginal().setSize(null, height);

                                var newHeight = mergeViewHeight(mergeView);
                                if (newHeight >= height) break;
                                else height = newHeight;
                              }
                              mergeView.wrap.style.height = height + "px";
                            }
                        </script>
          
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
    <script src="js/diff.js"></script>

    <script type="text/javascript">

    $( document ).ready(function() {

        $('[data-toggle="tooltip"]').tooltip();

        $('[data-toggle="popover"]').popover();

        $('#nav').affix({
            offset: {
                top: $('header').height()
            }
        });

    });

    </script>

</body>
</html>
